{
  "ConnectionStrings": {
    "Default": "Server=localhost;Port=3306;Database=FinPay_ApiGateway;User Id=finpay;Password=finpaypwd;"
  },
  "Serilog": {
    "MinimumLevel": "Information",
    "WriteTo": [
      { "Name": "Console" },
      { "Name": "Seq", "Args": { "serverUrl": "http://localhost:5341" } }
    ]
  },
  "RabbitMq": { "Host": "localhost", "Username": "guest", "Password": "guest" },
  "Redis": { "ConnectionString": "localhost:6379" },
  "OpenTelemetry": { "ExporterEndpoint": "http://localhost:4317" },

  "ReverseProxy": {
    "Clusters": {
      "payment": {
        "Destinations": {
          "d1": { "Address": "http://localhost:5001" }
        }
      },
      "merchant": {
        "Destinations": {
          "d1": { "Address": "http://localhost:5002" }
        }
      }
    },
    "Routes": {
      "payment_api": {
        "ClusterId": "payment",
        "Match": { "Path": "/payments/{**catch-all}" },
        "Transforms": [ { "PathRemovePrefix": "/payments" } ]
      },
      "merchant_api": {
        "ClusterId": "merchant",
        "Match": { "Path": "/merchants/{**catch-all}" },
        "Transforms": [ { "PathRemovePrefix": "/merchants" } ]
      }
    }
  }
}
